<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="KYCApp.Views.ResumenPage"
             Title="Resumen Final"
             BackgroundColor="#000000">

    <Grid>
        <ScrollView>
            <StackLayout Spacing="0">
            
            <!-- Header con gradiente O'Donnell -->
            <Frame HasShadow="False"
                   CornerRadius="0"
                   Padding="25,50,25,30">
                <Frame.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#8B3A3A" Offset="0.0" />
                        <GradientStop Color="#A64545" Offset="1.0" />
                    </LinearGradientBrush>
                </Frame.Background>
                <StackLayout Orientation="Horizontal">
                    <Button Text="âœ•"
                            FontSize="24"
                            TextColor="White"
                            BackgroundColor="Transparent"
                            WidthRequest="40"
                            HeightRequest="40"
                            CornerRadius="20"
                            Clicked="OnBackClicked"
                            VerticalOptions="Center" />
                    
                    <StackLayout VerticalOptions="Center" HorizontalOptions="CenterAndExpand">
                        <Image Source="odonnell_logo.svg" 
                               HeightRequest="30"
                               HorizontalOptions="Center"
                               Margin="0,0,0,8" />
                        <Label Text="ðŸ“‹ Resumen Final" 
                               FontSize="18" 
                               FontAttributes="Bold"
                               FontFamily="Arial"
                               TextColor="White" 
                               HorizontalOptions="Center" />
                    </StackLayout>
                    
                    <Button Text="â‹®"
                            FontSize="24"
                            TextColor="White"
                            BackgroundColor="Transparent"
                            WidthRequest="40"
                            HeightRequest="40"
                            VerticalOptions="Center" />
                </StackLayout>
            </Frame>
            
            <!-- Contenido principal -->
            <StackLayout Padding="20" Spacing="25" BackgroundColor="#000000">
                
                <!-- Tarjeta de informaciÃ³n del visitante -->
                <Frame BackgroundColor="#1A1A1A" 
                       CornerRadius="16"
                       Padding="25,30"
                       HasShadow="True"
                       BorderColor="#333333">
                    <StackLayout Spacing="20">
                        
                        <!-- Header de la tarjeta -->
                        <StackLayout Orientation="Horizontal" Spacing="15">
                            <Label Text="ðŸ‘¤" FontSize="24" VerticalOptions="Center" />
                            <StackLayout VerticalOptions="Center">
                                <Label Text="InformaciÃ³n del Visitante" 
                                       FontSize="18" 
                                       FontAttributes="Bold"
                                       FontFamily="Arial"
                                       TextColor="#FFFFFF" />
                                <Label Text="Datos verificados del registro" 
                                       FontSize="12" 
                                       FontFamily="Arial"
                                       TextColor="#9CA3AF" />
                            </StackLayout>
                        </StackLayout>
                        
                        <!-- Datos del visitante -->
                        <StackLayout Spacing="15">
                            <StackLayout Orientation="Horizontal" Spacing="10">
                                <Label Text="ðŸ”¸" FontSize="12" TextColor="#1A1A1A" VerticalOptions="Center" />
                                <Label Text="CÃ³digo QR:" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       FontAttributes="Bold"
                                       TextColor="#E0E0E0"
                                       VerticalOptions="Center" />
                                <Label x:Name="QRCodeLabel"
                                       Text="[QR_CODE]" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       TextColor="#1A1A1A"
                                       VerticalOptions="Center" />
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="10">
                                <Label Text="ðŸ”¸" FontSize="12" TextColor="#1A1A1A" VerticalOptions="Center" />
                                <Label Text="Nombre:" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       FontAttributes="Bold"
                                       TextColor="#E0E0E0"
                                       VerticalOptions="Center" />
                                <Label x:Name="NombreLabel"
                                       Text="[NOMBRE]" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       TextColor="#FFFFFF"
                                       VerticalOptions="Center" />
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="10">
                                <Label Text="ðŸ”¸" FontSize="12" TextColor="#1A1A1A" VerticalOptions="Center" />
                                <Label Text="Empresa:" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       FontAttributes="Bold"
                                       TextColor="#E0E0E0"
                                       VerticalOptions="Center" />
                                <Label x:Name="EmpresaLabel"
                                       Text="[EMPRESA]" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       TextColor="#FFFFFF"
                                       VerticalOptions="Center" />
                            </StackLayout>
                            
                            <StackLayout Orientation="Horizontal" Spacing="10">
                                <Label Text="ðŸ”¸" FontSize="12" TextColor="#1A1A1A" VerticalOptions="Center" />
                                <Label Text="Ãrea a visitar:" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       FontAttributes="Bold"
                                       TextColor="#E0E0E0"
                                       VerticalOptions="Center" />
                                <Label x:Name="AreaLabel"
                                       Text="[AREA]" 
                                       FontSize="13" 
                                       FontFamily="Arial"
                                       TextColor="#FFFFFF"
                                       VerticalOptions="Center" />
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </Frame>
                
                <!-- Tarjeta de imÃ¡genes capturadas -->
                <Frame BackgroundColor="#1A1A1A" 
                       CornerRadius="16"
                       Padding="25,30"
                       HasShadow="False"
                       BorderColor="#333333">
                    <StackLayout Spacing="20">
                        
                        <!-- Header de imÃ¡genes -->
                        <StackLayout Orientation="Horizontal" Spacing="15">
                            <Label Text="ðŸ“·" FontSize="24" VerticalOptions="Center" />
                            <StackLayout VerticalOptions="Center">
                                <Label Text="ImÃ¡genes Capturadas" 
                                       FontSize="18" 
                                       FontAttributes="Bold"
                                       FontFamily="Arial"
                                       TextColor="#FFFFFF" />
                                <Label Text="DocumentaciÃ³n fotogrÃ¡fica" 
                                       FontSize="12" 
                                       FontFamily="Arial"
                                       TextColor="#9CA3AF" />
                            </StackLayout>
                        </StackLayout>
                        
                        <!-- Grid de imÃ¡genes -->
                        <Grid RowDefinitions="Auto,Auto" ColumnDefinitions="*" RowSpacing="15">
                            
                            <!-- Documento -->
                            <Frame Grid.Row="0" Grid.Column="0"
                                   BackgroundColor="#2A2A2A"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False">
                                <StackLayout Spacing="10">
                                    <Label Text="ðŸ“„" FontSize="32" HorizontalOptions="Center" TextColor="#FFFFFF" />
                                    <Label Text="Documento" 
                                           FontSize="12" 
                                           FontFamily="Arial"
                                           FontAttributes="Bold"
                                           TextColor="#FFFFFF"
                                           HorizontalOptions="Center" />
                                    <Image x:Name="DocumentoImagen" 
                                           HeightRequest="80"
                                           Aspect="AspectFill" />
                                </StackLayout>
                            </Frame>
                            
                            <!-- Placa -->
                            <Frame Grid.Row="1" Grid.Column="0"
                                   BackgroundColor="#2A2A2A"
                                   CornerRadius="12"
                                   Padding="15"
                                   HasShadow="False">
                                <StackLayout Spacing="10">
                                    <Label Text="ðŸš—" FontSize="32" HorizontalOptions="Center" TextColor="#FFFFFF" />
                                    <Label Text="Placa Vehicular" 
                                           FontSize="12" 
                                           FontFamily="Arial"
                                           FontAttributes="Bold"
                                           TextColor="#FFFFFF"
                                           HorizontalOptions="Center" />
                                    <Image x:Name="PlacaImagen" 
                                           HeightRequest="60"
                                           Aspect="AspectFit" />
                                </StackLayout>
                            </Frame>
                        </Grid>
                    </StackLayout>
                </Frame>
                
                <!-- BotÃ³n de confirmaciÃ³n final -->
                <Button Text="âœ… Confirmar Registro"
                        FontSize="18"
                        FontAttributes="Bold"
                        FontFamily="Arial"
                        TextColor="White"
                        BackgroundColor="#1A1A1A"
                        BorderColor="#FFFFFF"
                        BorderWidth="1"
                        CornerRadius="12"
                        HeightRequest="55"
                        Clicked="OnConfirmClicked"
                        Margin="0,10,0,30" />
                
            </StackLayout>
            </StackLayout>
        </ScrollView>

        <!-- Overlay de Loading O'Donnell -->
        <Grid x:Name="LoadingOverlay" 
              IsVisible="False"
              BackgroundColor="#E6000000">
            
            <Frame BackgroundColor="#1A1A1A"
                   CornerRadius="20"
                   Padding="30"
                   WidthRequest="300"
                   HeightRequest="200"
                   VerticalOptions="Center"
                   HorizontalOptions="Center"
                   BorderColor="#FFFFFF"
                   HasShadow="True">
                
                <StackLayout Spacing="20">
                    
                    <!-- Logo O'Donnell -->
                    <Image Source="odonnell_logo.svg" 
                           HeightRequest="40"
                           HorizontalOptions="Center" />
                    
                    <!-- Spinner de carga -->
                    <ActivityIndicator x:Name="LoadingSpinner"
                                     IsRunning="True"
                                     IsVisible="True"
                                     Color="#FFFFFF"
                                     WidthRequest="40"
                                     HeightRequest="40"
                                     HorizontalOptions="Center" />
                    
                    <!-- Mensaje de carga -->
                    <Label x:Name="LoadingMessage"
                           Text="Procesando registro..."
                           FontSize="16"
                           FontAttributes="Bold"
                           FontFamily="Arial"
                           TextColor="#FFFFFF"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                    
                    <!-- Submensaje -->
                    <Label Text="Por favor espere un momento"
                           FontSize="12"
                           FontFamily="Arial"
                           TextColor="#9CA3AF"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                    
                </StackLayout>
            </Frame>
        </Grid>

        <!-- Overlay de confirmaciÃ³n personalizado -->
    <Grid x:Name="ConfirmationOverlay" 
          IsVisible="False"
          BackgroundColor="#80000000"
          VerticalOptions="FillAndExpand"
          HorizontalOptions="FillAndExpand">
        
        <Frame BackgroundColor="#1A1A1A"
               CornerRadius="20"
               Padding="30"
               Margin="30"
               HasShadow="True"
               VerticalOptions="Center"
               HorizontalOptions="Center"
               WidthRequest="320">
            
            <StackLayout Spacing="20" HorizontalOptions="Center">
                
                <!-- Ãcono de Ã©xito -->
                <Label x:Name="ConfirmationIcon"
                       Text="âœ…"
                       FontSize="48"
                       HorizontalOptions="Center"
                       TextColor="#10B981" />
                
                <!-- TÃ­tulo -->
                <Label x:Name="ConfirmationTitle"
                       Text="Visita Confirmada"
                       FontSize="20"
                       FontAttributes="Bold"
                       FontFamily="Arial"
                       TextColor="#FFFFFF"
                       HorizontalOptions="Center" />
                
                <!-- Mensaje -->
                <Label x:Name="ConfirmationMessage"
                       Text="La visita ha sido registrada exitosamente"
                       FontSize="14"
                       FontFamily="Arial"
                       TextColor="#9CA3AF"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center" />
                
                <!-- InformaciÃ³n del registro -->
                <StackLayout x:Name="RegistroInfo" 
                            Spacing="8"
                            IsVisible="True">
                    
                    <Label x:Name="QRInfo"
                           FontSize="12"
                           FontFamily="Arial"
                           TextColor="#FFFFFF"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center" />
                    
                    <Label x:Name="DocumentoInfo"
                           FontSize="12"
                           FontFamily="Arial"
                           TextColor="#FFFFFF"
                           HorizontalOptions="Center" />
                    
                    <Label x:Name="PlacasInfo"
                           FontSize="12"
                           FontFamily="Arial"
                           TextColor="#FFFFFF"
                           HorizontalOptions="Center" />
                    
                    <Label x:Name="FechaInfo"
                           FontSize="12"
                           FontFamily="Arial"
                           TextColor="#9CA3AF"
                           HorizontalOptions="Center" />
                    
                </StackLayout>
                
                <!-- BotÃ³n de continuar -->
                <Button x:Name="ConfirmationButton"
                        Text="Continuar"
                        FontSize="16"
                        FontAttributes="Bold"
                        FontFamily="Arial"
                        TextColor="White"
                        CornerRadius="12"
                        HeightRequest="45"
                        WidthRequest="200"
                        Clicked="OnConfirmationButtonClicked">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#8B3A3A" Offset="0.0" />
                            <GradientStop Color="#A64545" Offset="1.0" />
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>
                
            </StackLayout>
        </Frame>
        </Grid>
    </Grid>

</ContentPage>
